
### **v2.0 — прогноз на основе реальных курсов ЦБ РФ**

**Цель проекта**: прогноз направления движения курса валюты (вверх / вниз) за один день.  
**Язык реализации**: Python 3.11.  
**Используемые библиотеки**: `python-telegram-bot==20.7`, `requests`.  
**Источник данных**: официальный API ЦБ РФ — `https://cbr.ru/scripts/XML_daily.asp`.

---

### **Структура проекта**

- `v1_basic_bot/` — версия 1.0: бот с прогнозом-заглушкой (на основе времени).  
- `v2_data_fetch/` — версия 2.0: бот, получающий реальные курсы из API ЦБ РФ и делающий прогноз по разнице за два дня.

---

### **Запуск (v2.0)**

1. Получите токен
2. Установите зависимости:


   pip install python-telegram-bot==20.7 requests


3. Откройте файл `v2_data_fetch/bot.py`, найдите строку:


   TOKEN = "ВАШ_ТОКЕН_ОТ_BOTFATHER"


   и замените её на ваш реальный токен.

4. Запустите бота:


   cd v2_data_fetch



### **Логика прогноза (v2.0)**

1. **Получение данных**:  
   Бот запрашивает курсы выбранной валюты за два последних доступных дня (обычно — вчера и позавчера), используя XML-интерфейс ЦБ РФ.

2. **Расчёт изменения**:  
   Вычисляется относительное изменение в процентах:  
   `Δ% = (курс_вчера − курс_позавчера) / курс_позавчера × 100`.

3. **Прогноз**:  
   - если Δ% > 0 → направление **«вверх»**,  
   - если Δ% < 0 → направление **«вниз»**,  
   - если Δ% = 0 → **«без изменений»**.

> Примечание: ЦБ РФ публикует курсы только по будням. В выходные и праздники данные могут отсутствовать — в этом случае бот возвращает сообщение об ошибке.


### **Поддерживаемые валюты**

- **USD** — доллар США (код `R01235`)  
- **EUR** — евро (код `R01239`)  
- **CNY** — китайский юань (код `R01375`)

Команды для прогноза:  
`/predict USD`, `/predict EUR`, `/predict CNY`.
